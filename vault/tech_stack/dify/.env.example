# .env template for Dify integration with existing services

# ===== EXISTING SERVICE CONFIGURATIONS (from your setup) =====
# OpenAI Integration
OPENAI_API_KEY=
OPENAI_ORG_ID=
USE_OPENAI=false
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_COMPLETION_MODEL=gpt-4o

# LiteLLM Configuration
LITELLM_ADMIN_PASSWORD=admin
LITELLM_POSTGRES_USER=postgres
LITELLM_POSTGRES_PASSWORD=postgres
LITELLM_POSTGRES_PORT=5432
LITELLM_POSTGRES_DATABASE=postgres
LITELLM_POSTGRES_HOST=litellm_db

# Generation Model
GENERATION_MODEL=llama3
EMBEDDING_MODEL=text-embedding-3-large

# ===== DIFY SPECIFIC CONFIGURATIONS =====

# Basic Settings
LOG_LEVEL=INFO
DEBUG=false
FLASK_DEBUG=false
# Generate with: openssl rand -base64 42
SECRET_KEY=sk-9f73s3
DEPLOY_ENV=PRODUCTION

# Dify Database (PostgreSQL)
DIFY_POSTGRES_USER=postgres
DIFY_POSTGRES_PASSWORD=difyai123456
DIFY_POSTGRES_DB=dify

# Dify Redis
DIFY_REDIS_PASSWORD=difyai123456
REDIS_USERNAME=
REDIS_USE_SSL=false

# Admin Account
DIFY_ADMIN_EMAIL=admin@example.com
DIFY_ADMIN_PASSWORD=admin123456

# Application URLs - Adjust these based on your deployment
CONSOLE_API_URL=http://localhost:8080/console/api
CONSOLE_WEB_URL=http://localhost:8080
SERVICE_API_URL=http://localhost:8080/api
APP_WEB_URL=http://localhost:8080

# CORS Settings
CONSOLE_CORS_ALLOW_ORIGINS=*
WEB_API_CORS_ALLOW_ORIGINS=*

# Vector Store - Milvus Configuration
VECTOR_STORE=milvus
MILVUS_URI=http://milvus:19530
MILVUS_TOKEN=
MILVUS_USER=
MILVUS_PASSWORD=
MILVUS_DATABASE=Dify
MILVUS_ENABLE_HYBRID_SEARCH=false
MILVUS_ANALYZER_PARAMS=

# Storage Configuration
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=/app/api/storage

# ETL Configuration for Document Processing
ETL_TYPE=tika
TIKA_SERVER_URL=http://tika:9998

# File Upload Limits
UPLOAD_FILE_SIZE_LIMIT=15
UPLOAD_FILE_BATCH_LIMIT=5

# Indexing Configuration
INDEXING_MAX_SEGMENTATION_TOKENS_LENGTH=1000

# Sandbox Configuration
SANDBOX_API_KEY=dify-sandbox
SANDBOX_GIN_MODE=release
SANDBOX_WORKER_TIMEOUT=15
SANDBOX_ENABLE_NETWORK=true
SANDBOX_HTTP_PROXY=http://dify_ssrf_proxy:3128
SANDBOX_HTTPS_PROXY=http://dify_ssrf_proxy:3128
SANDBOX_PORT=8194

# Sentry Configuration (Optional)
API_SENTRY_DSN=
API_SENTRY_TRACES_SAMPLE_RATE=1.0
API_SENTRY_PROFILES_SAMPLE_RATE=1.0
WEB_SENTRY_DSN=

# Telemetry
NEXT_TELEMETRY_DISABLED=1

# Mail Configuration (Optional)
MAIL_TYPE=
MAIL_DEFAULT_SEND_FROM=
SMTP_SERVER=
SMTP_PORT=
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true

# OAuth Configuration (Optional for SSO)
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=

# Feature Flags
ENABLE_WORKFLOW_DEBUG=true
ENABLE_AGENT_CONVERSATION=true

# Rate Limiting
RATE_LIMITER_ENABLED=true
RATE_LIMITER_MAX_REQUESTS=60
RATE_LIMITER_WINDOW_MS=60000

# Additional Enterprise Features
MULTI_WORKSPACE_ENABLED=false
BILLING_ENABLED=false
